{"version":3,"sources":["webpack:///./src/redux/state.js","webpack:///./src/config/vibes.js","webpack:///./src/redux/actions.js","webpack:///./src/utils/fighting.js","webpack:///./src/config/sounds.js","webpack:///./src/redux/sounds.js","webpack:///./src/redux/store.js","webpack:///./src/components/PageContainer.js","webpack:///./src/components/InitialPage.js","webpack:///./src/components/ChooseNamePage.js","webpack:///./src/config/playerWeapons.js","webpack:///./src/components/ChooseWeaponPage.js","webpack:///./src/config/bosses.js","webpack:///./src/components/ChooseBossPage.js","webpack:///./src/components/FlexSpacer.js","webpack:///./src/components/FightPage.js","webpack:///./src/components/ErrorPage.js","webpack:///./src/components/App.js","webpack:///./src/index.js","webpack:///./src/components/PageContainer.css","webpack:///./src/components/FightPage.css","webpack:///./src/sounds/hurray_1.mp3","webpack:///./src/sounds/im_sad_1.mp3","webpack:///./src/sounds/nice_1.mp3","webpack:///./src/sounds/this_sucks_1.mp3","webpack:///./src/sounds/wow_1.mp3","webpack:///./src/sounds/best_friends.mp3","webpack:///./src/sounds/leaving_party.mp3"],"names":["initialState","stage","BAD_VIBES_MAX","OK_VIBES_MAX","GOOD_VIBES_MAX","reducer","state","action","type","payload","name","player","weapon","vibes","boss","changeVibes","fighter","clamp","vibesAreMax","vibesBecameZero","fighterBefore","fighterAfter","vibesBecameMax","vibesWentDown","vibesWentUp","hurray1","src","hurray1Src","category","sad1","sad1Src","nice1","nice1Src","thisSucks1","thisSucks1Src","wow1","wow1Src","bestFriends","bestFriendsSrc","leavingParty","leavingPartySrc","soundList","Object","keys","sounds","map","playSoundFromCategory","soundsInCategory","filter","sound","playSound","sample","volume","audio","Audio","play","soundsMiddleware","store","next","previousState","getState","result","currentState","stageBefore","stageAfter","gameEndedHappy","gameEndedSad","eitherPlayerVibesWentUp","eitherPlayerVibesWentDown","useDispatch","useDispatchGeneric","PageContainer","orientation","children","className","classNames","styles","root","vertical","defaultProps","InitialPage","_props","dispatch","startGame","useHotkeys","style","alignSelf","onClick","ChooseNamePage","tempName","setTempName","useState","setName","actions","resetGame","autoFocus","value","onChange","e","target","onKeyDown","key","PLAYER_WEAPONS","attacks","header","description","ChooseWeaponPage","marginBottom","console","trace","selectWeapon","BOSSES","ChooseBossPage","selectBoss","FlexSpacer","flexGrow","FightPage","hurtPlayerVibes","boostPlayerVibes","hurtBossVibes","boostBossVibes","FighterSection","boostFn","hurtFn","fighterSection","VibeOMeter","max","buttons","vibeLevel","colorProps","error","warning","success","primary","ErrorPage","App","middleware","selector","useSelectorGeneric","applyMiddleware","logger","createStoreGeneric","window","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"js/main.6f0053642c87baeec965.js","sourcesContent":["// @flow\nimport type { Stage } from '../types/Stage';\n\nexport type ReduxState = Stage;\n\nexport const initialState: ReduxState = {\n  stage: 'initial',\n};\n","// @flow\n\nexport const BAD_VIBES_MAX = 2;\nexport const OK_VIBES_MIN = 3;\nexport const OK_VIBES_MAX = 6;\nexport const GOOD_VIBES_MIN = 7;\nexport const GOOD_VIBES_MAX = 10;\n","// @flow\nimport type { ReduxState } from './state';\nimport type { Fighter, Weapon } from '../types/Fighter';\nimport { initialState } from './state';\nimport { GOOD_VIBES_MAX } from '../config/vibes';\nimport clamp from 'lodash/clamp';\n\n/*\n  Resets the game and move to the initial state\n*/\n\ntype ResetGameAction = { type: 'reset_game' };\nexport function resetGame(): ResetGameAction {\n  return { type: 'reset_game' };\n}\n\n/*\n  Start the game and move to choosing a character\n*/\n\ntype StartGameAction = { type: 'start_game' };\nexport function startGame(): StartGameAction {\n  return { type: 'start_game' };\n}\n\n/*\n  Sets the player's name and move to choosing a weapon\n*/\n\ntype SetNameAction = { type: 'set_name', payload: string };\nexport function setName(name: string): SetNameAction {\n  return { type: 'set_name', payload: name };\n}\n\n/*\n  Go back to fix an error with the player's name\n*/\n\ntype UnsetNameAction = { type: 'unset_name' };\nexport function unsetName(): UnsetNameAction {\n  return { type: 'unset_name' };\n}\n\n/*\n  Selects the player's weapon and move to choosing a boss to fight\n*/\n\ntype SelectWeaponAction = { type: 'select_weapon', payload: Weapon };\nexport function selectWeapon(weapon: Weapon): SelectWeaponAction {\n  return { type: 'select_weapon', payload: weapon };\n}\n\n/*\n  Go back to fix an error with the player's weapon\n*/\n\ntype UnselectWeaponAction = { type: 'unselect_weapon' };\nexport function unselectWeapon(): UnselectWeaponAction {\n  return { type: 'unselect_weapon' };\n}\n\n/*\n  Selects the player's opponent and move to fight!\n*/\n\ntype SelectBossAction = { type: 'select_boss', payload: Fighter };\nexport function selectBoss(boss: Fighter): SelectBossAction {\n  return { type: 'select_boss', payload: boss };\n}\n\n/*\n  Attacks from the player or the boss!\n*/\n\ntype ChangePlayerVibesAction = { type: 'change_player_vibes', payload: number };\nexport function hurtPlayerVibes(): ChangePlayerVibesAction {\n  return { type: 'change_player_vibes', payload: -1 };\n}\nexport function boostPlayerVibes(): ChangePlayerVibesAction {\n  return { type: 'change_player_vibes', payload: 1 };\n}\n\ntype ChangeBossVibesAction = { type: 'change_boss_vibes', payload: number };\nexport function hurtBossVibes(): ChangeBossVibesAction {\n  return { type: 'change_boss_vibes', payload: -1 };\n}\nexport function boostBossVibes(): ChangeBossVibesAction {\n  return { type: 'change_boss_vibes', payload: 1 };\n}\n\n/*\n  Define the final action type as the union of all actions\n*/\n\nexport type ReduxAction =\n  | ResetGameAction\n  | StartGameAction\n  | SetNameAction\n  | UnsetNameAction\n  | SelectWeaponAction\n  | UnselectWeaponAction\n  | SelectBossAction\n  | ChangePlayerVibesAction\n  | ChangeBossVibesAction;\n\n/*\n  Handle actions in the reducer\n*/\n\nexport function reducer(\n  state: ReduxState = initialState,\n  action: ReduxAction,\n): ReduxState {\n  switch (action.type) {\n    case 'reset_game': {\n      return { stage: 'initial' };\n    }\n\n    case 'start_game': {\n      if (state.stage !== 'initial') return state;\n      return { stage: 'choose_name' };\n    }\n\n    case 'set_name': {\n      if (state.stage !== 'choose_name') return state;\n      if (!action.payload) return state;\n      return { stage: 'choose_weapon', name: action.payload };\n    }\n\n    case 'unset_name': {\n      if (state.stage !== 'choose_weapon') return state;\n      return { stage: 'choose_name' };\n    }\n\n    case 'select_weapon': {\n      if (state.stage !== 'choose_weapon') return state;\n      return {\n        stage: 'choose_boss',\n        player: {\n          name: state.name,\n          weapon: action.payload,\n          vibes: 7,\n        },\n      };\n    }\n\n    case 'unselect_weapon': {\n      if (state.stage !== 'choose_boss') return state;\n      return { stage: 'choose_weapon', name: state.player.name };\n    }\n\n    case 'select_boss': {\n      if (state.stage !== 'choose_boss') return state;\n      return {\n        stage: 'fight',\n        player: state.player,\n        boss: action.payload,\n      };\n    }\n\n    case 'change_player_vibes': {\n      if (state.stage !== 'fight') return state;\n      return {\n        stage: 'fight',\n        player: changeVibes(state.player, action.payload),\n        boss: state.boss,\n      };\n    }\n\n    case 'change_boss_vibes': {\n      if (state.stage !== 'fight') return state;\n      return {\n        stage: 'fight',\n        player: state.player,\n        boss: changeVibes(state.boss, action.payload),\n      };\n    }\n\n    default:\n      return state || initialState;\n  }\n}\n\nfunction changeVibes(fighter: Fighter, vibes: number): Fighter {\n  return { ...fighter, vibes: clamp(fighter.vibes + vibes, 0, GOOD_VIBES_MAX) };\n}\n","// @flow\nimport type { Fighter } from '../types/Fighter';\nimport type { FightStage } from '../types/Stage';\nimport { GOOD_VIBES_MAX } from '../config/vibes';\n\nexport function vibesAreZero(fighter: Fighter): boolean {\n  return fighter.vibes === 0;\n}\n\nexport function vibesAreMax(fighter: Fighter): boolean {\n  return fighter.vibes === GOOD_VIBES_MAX;\n}\n\nexport function vibesBecameZero(fighterBefore: Fighter, fighterAfter: Fighter): boolean {\n  return fighterBefore.vibes !== 0 && fighterAfter.vibes === 0;\n}\n\nexport function vibesBecameMax(fighterBefore: Fighter, fighterAfter: Fighter): boolean {\n  return fighterBefore.vibes !== GOOD_VIBES_MAX && fighterAfter.vibes === GOOD_VIBES_MAX;\n}\n\nexport function vibesWentDown(fighterBefore: Fighter, fighterAfter: Fighter): boolean {\n  return fighterBefore.vibes > fighterAfter.vibes;\n}\n\nexport function vibesWentUp(fighterBefore: Fighter, fighterAfter: Fighter): boolean {\n  return fighterBefore.vibes < fighterAfter.vibes;\n}\n\nexport function eitherPlayerVibesWentUp(\n  stageBefore: FightStage,\n  stageAfter: FightStage,\n): boolean {\n  return (\n    vibesWentUp(stageBefore.player, stageAfter.player) ||\n    vibesWentUp(stageBefore.boss, stageAfter.boss)\n  );\n}\n\nexport function eitherPlayerVibesWentDown(\n  stageBefore: FightStage,\n  stageAfter: FightStage,\n): boolean {\n  return (\n    vibesWentDown(stageBefore.player, stageAfter.player) ||\n    vibesWentDown(stageBefore.boss, stageAfter.boss)\n  );\n}\n\nexport function gameEndedSad(stageBefore: FightStage, stageAfter: FightStage): boolean {\n  return (\n    vibesBecameZero(stageBefore.player, stageAfter.player) ||\n    vibesBecameZero(stageBefore.boss, stageAfter.boss)\n  );\n}\n\nexport function gameEndedHappy(stageBefore: FightStage, stageAfter: FightStage): boolean {\n  return (\n    (vibesAreMax(stageAfter.player) &&\n      vibesBecameMax(stageBefore.boss, stageAfter.boss)) ||\n    (vibesAreMax(stageAfter.boss) &&\n      vibesBecameMax(stageBefore.player, stageAfter.player))\n  );\n}\n","// @flow\nimport type { Sound } from '../types/Sound';\n\n// TODO: figure out typings for these imports\n// $FlowFixMe\nimport hurray1Src from '../sounds/hurray_1.mp3';\n// $FlowFixMe\nimport sad1Src from '../sounds/im_sad_1.mp3';\n// $FlowFixMe\nimport nice1Src from '../sounds/nice_1.mp3';\n// $FlowFixMe\nimport thisSucks1Src from '../sounds/this_sucks_1.mp3';\n// $FlowFixMe\nimport wow1Src from '../sounds/wow_1.mp3';\n// $FlowFixMe\nimport bestFriendsSrc from '../sounds/best_friends.mp3';\n// $FlowFixMe\nimport leavingPartySrc from '../sounds/leaving_party.mp3';\n\nexport const hurray1: Sound = {\n  src: hurray1Src,\n  category: 'boost_vibes',\n};\n\nexport const sad1: Sound = {\n  src: sad1Src,\n  category: 'hurt_vibes',\n};\n\nexport const nice1: Sound = {\n  src: nice1Src,\n  category: 'boost_vibes',\n};\n\nexport const thisSucks1: Sound = {\n  src: thisSucks1Src,\n  category: 'hurt_vibes',\n};\n\nexport const wow1: Sound = {\n  src: wow1Src,\n  category: 'boost_vibes',\n};\n\nexport const bestFriends: Sound = {\n  src: bestFriendsSrc,\n};\n\nexport const leavingParty: Sound = {\n  src: leavingPartySrc,\n};\n","// @flow\nimport type { ReduxMiddleware } from './store';\nimport type { Sound, SoundCategory } from '../types/Sound';\n// import type { Fighter } from '../types/Fighter';\nimport sample from 'lodash/sample';\nimport {\n  eitherPlayerVibesWentUp,\n  eitherPlayerVibesWentDown,\n  gameEndedSad,\n  gameEndedHappy,\n} from '../utils/fighting.js';\nimport * as sounds from '../config/sounds';\n\nconst soundList = Object.keys(sounds).map((name) => sounds[name]);\n\nconst soundsMiddleware: ReduxMiddleware = (store) => {\n  // Pre-load all sounds\n  for (const sound of soundList) {\n    playSound(sound, 0);\n  }\n\n  return (next) => (action) => {\n    const previousState = store.getState();\n    const result = next(action);\n    const currentState = store.getState();\n\n    if (previousState.stage === 'fight' && currentState.stage === 'fight') {\n      if (gameEndedHappy(previousState, currentState)) {\n        playSound(sounds.bestFriends);\n      } else if (gameEndedSad(previousState, currentState)) {\n        playSound(sounds.leavingParty);\n      } else if (eitherPlayerVibesWentUp(previousState, currentState)) {\n        playSoundFromCategory('boost_vibes');\n      } else if (eitherPlayerVibesWentDown(previousState, currentState)) {\n        playSoundFromCategory('hurt_vibes');\n      }\n    }\n\n    // $FlowFixMe - hmmm\n    return result;\n  };\n};\n\nfunction playSoundFromCategory(category: SoundCategory) {\n  const soundsInCategory = soundList.filter((sound) => sound.category === category);\n  const sound = sample(soundsInCategory);\n  playSound(sound);\n}\n\nfunction playSound(sound: Sound, volume: number = 1) {\n  const audio = new Audio(sound.src);\n  audio.volume = volume;\n  audio.play();\n}\n\nexport default soundsMiddleware;\n","// @flow\nimport {\n  applyMiddleware,\n  createStore as createStoreGeneric,\n  type Store as StoreGeneric,\n  type Middleware as MiddlewareGeneric,\n} from 'redux';\nimport {\n  useSelector as useSelectorGeneric,\n  useDispatch as useDispatchGeneric,\n} from 'react-redux';\nimport logger from 'redux-logger';\nimport { type ReduxAction, reducer } from './actions';\nimport { type ReduxState } from './state';\nimport soundsMiddleware from './sounds';\n\nexport type ReduxDispatch = <T: ReduxAction>(T) => T;\nexport type ReduxStore = StoreGeneric<ReduxState, ReduxAction, ReduxDispatch>;\nexport type ReduxMiddleware = MiddlewareGeneric<ReduxState, ReduxAction, ReduxDispatch>;\n\nexport function createStore(): ReduxStore {\n  const middleware = applyMiddleware(logger, soundsMiddleware);\n  return createStoreGeneric(reducer, middleware);\n}\n\nexport function useSelector<Result>(selector: (state: ReduxState) => Result): Result {\n  return useSelectorGeneric(selector);\n}\n\nexport function useDispatch(): ReduxDispatch {\n  return useDispatchGeneric();\n}\n","// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport styles from './PageContainer.css';\n\ntype Props = {\n  orientation: 'horizontal' | 'vertical',\n  children: React$Node,\n};\n\nexport default function PageContainer({ orientation, children }: Props) {\n  return (\n    <div\n      className={classNames({\n        [styles.root]: true,\n        [styles.vertical]: orientation == 'vertical',\n      })}\n    >\n      {children}\n    </div>\n  );\n}\nPageContainer.defaultProps = {\n  orientation: 'horizontal',\n};\n","// @flow\nimport type { InitialStage } from '../types/Stage';\nimport React from 'react';\nimport PageContainer from './PageContainer';\nimport { Button } from 'nes-react';\nimport * as actions from '../redux/actions';\nimport { useDispatch } from '../redux/store';\nimport { useHotkeys } from 'react-hotkeys-hook';\n\nexport default function InitialPage(_props: InitialStage) {\n  const dispatch = useDispatch();\n  const startGame = () => dispatch(actions.startGame());\n\n  useHotkeys('enter', startGame);\n  useHotkeys('space', startGame);\n\n  return (\n    <PageContainer>\n      <div style={{ alignSelf: 'center' }}>\n        <Button onClick={startGame}>Start Game</Button>\n      </div>\n    </PageContainer>\n  );\n}\n","// @flow\nimport type { ChooseNameStage } from '../types/Stage';\nimport React, { useState } from 'react';\nimport PageContainer from './PageContainer';\nimport { Button, TextInput } from 'nes-react';\nimport * as actions from '../redux/actions';\nimport { useDispatch } from '../redux/store';\nimport { useHotkeys } from 'react-hotkeys-hook';\n\nexport default function ChooseNamePage(_props: ChooseNameStage) {\n  const [tempName, setTempName] = useState('');\n\n  const dispatch = useDispatch();\n  const setName = () => dispatch(actions.setName(tempName));\n  const resetGame = () => dispatch(actions.resetGame());\n\n  // useHotkeys('enter', setName);\n  useHotkeys('esc', resetGame);\n\n  return (\n    <PageContainer>\n      <div style={{ alignSelf: 'center' }}>\n        <h1>Enter Your Name</h1>\n        <TextInput\n          autoFocus\n          value={tempName}\n          onChange={(e) => setTempName(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter') setName();\n            if (e.key === 'Escape') resetGame();\n          }}\n        />\n        &nbsp;\n        <Button onClick={setName}>Set Name</Button>\n      </div>\n    </PageContainer>\n  );\n}\n","// @flow\nimport type { Weapon } from '../types/Fighter';\n\nexport const PRIVATE_SLACK_CHANNEL: Weapon = {\n  name: 'Private Slack Channel',\n  attacks: [\n    { header: 'Attack 1', description: 'Lock down' },\n    { header: 'Attack 2', description: 'Exclude' },\n    { header: 'Attack 3', description: '@-mention' },\n  ],\n};\n\nexport const INSIDE_JOKE_STICK: Weapon = {\n  name: 'Inside Joke Stick',\n  attacks: [\n    { header: 'Attack 1', description: 'Make inside joke' },\n    { header: 'Attack 2', description: 'Laugh' },\n    { header: 'Attack 3', description: 'Clown around' },\n  ],\n};\n\nexport const SIDE_SHAVE: Weapon = {\n  name: 'Side Shave',\n  attacks: [\n    { header: 'Attack 1', description: 'Hair flip' },\n    { header: 'Attack 2', description: 'Body mod' },\n    { header: 'Attack 3', description: 'Compliment' },\n  ],\n};\n\nexport const JUDGEMENT_GAVEL: Weapon = {\n  name: 'Judgement Gavel',\n  attacks: [\n    { header: 'Attack 1', description: 'Call for order' },\n    { header: 'Attack 2', description: 'Pass judgement' },\n    { header: 'Attack 3', description: 'Overrule objection' },\n  ],\n};\n\nexport const POI_BALLS: Weapon = {\n  name: 'Poi Balls',\n  attacks: [\n    { header: 'Attack 1', description: 'Spin' },\n    { header: 'Attack 2', description: 'Dazzle' },\n    { header: 'Attack 3', description: 'Demonstrate' },\n  ],\n};\n\nconst PLAYER_WEAPONS = [\n  PRIVATE_SLACK_CHANNEL,\n  INSIDE_JOKE_STICK,\n  SIDE_SHAVE,\n  JUDGEMENT_GAVEL,\n  POI_BALLS,\n];\n\nexport default PLAYER_WEAPONS;\n","// @flow\nimport type { ChooseWeaponStage } from '../types/Stage';\nimport React from 'react';\nimport PageContainer from './PageContainer';\nimport { Button, List } from 'nes-react';\nimport * as actions from '../redux/actions';\nimport { useDispatch } from '../redux/store';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport PLAYER_WEAPONS from '../config/playerWeapons';\n\nexport default function ChooseWeaponPage(_props: ChooseWeaponStage) {\n  const dispatch = useDispatch();\n\n  const selectWeapon = (weapon) => {\n    console.trace('selected weapon');\n    dispatch(actions.selectWeapon(weapon));\n  };\n  const unsetName = () => dispatch(actions.unsetName());\n\n  useHotkeys('esc', unsetName);\n\n  return (\n    <PageContainer>\n      <div style={{ alignSelf: 'center' }}>\n        <h1 style={{ marginBottom: 16 }}>Choose Your Weapon</h1>\n        <List>\n          {PLAYER_WEAPONS.map((weapon) => (\n            <li key={weapon.name} style={{ marginBottom: 16 }}>\n              <span>{weapon.name}</span>&nbsp;\n              <Button onClick={() => selectWeapon(weapon)}>Select</Button>\n            </li>\n          ))}\n        </List>\n      </div>\n    </PageContainer>\n  );\n}\n","// @flow\nimport type { Fighter } from '../types/Fighter';\n\nexport const KAREN: Fighter = {\n  vibes: 5,\n  name: 'Karen From Marketing',\n  weapon: {\n    name: 'Asana',\n    attacks: [\n      { header: 'Favorite time of day', description: 'On time' },\n      { header: 'Favorite TV show', description: 'The Bachelor' },\n      {\n        header: 'Favorite tool',\n        description: 'Shared Google calendar for syncing ClassPass with all her friends',\n      },\n    ],\n  },\n};\n\nexport const CHAD: Fighter = {\n  vibes: 6,\n  name: 'Chad From Sales',\n  weapon: {\n    name: 'Beer Staff',\n    attacks: [\n      { header: 'Favorite gesture', description: 'Smile and point' },\n      { header: 'Favorite place', description: 'Box seats at Giants game' },\n      { header: 'Favorite part of self', description: 'Perfect hair' },\n    ],\n  },\n};\n\nexport const LEVI: Fighter = {\n  vibes: 7,\n  name: 'Levi The CEO',\n  weapon: {\n    name: 'Tesla',\n    attacks: [\n      { header: 'Favorite meal system', description: 'Thistle' },\n      { header: 'Favorite personality system', description: 'Enneagram' },\n      {\n        header: 'Favorite clothes since doing Ayahuasca',\n        description: 'Custom heather-gray poncho',\n      },\n    ],\n  },\n};\n\nconst BOSSES = [KAREN, CHAD, LEVI];\n\nexport default BOSSES;\n","// @flow\nimport type { ChooseBossStage } from '../types/Stage';\nimport React from 'react';\nimport PageContainer from './PageContainer';\nimport { Button, List } from 'nes-react';\nimport * as actions from '../redux/actions';\nimport { useDispatch } from '../redux/store';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport BOSSES from '../config/bosses';\n\nexport default function ChooseBossPage(_props: ChooseBossStage) {\n  const dispatch = useDispatch();\n\n  const selectBoss = (boss) => dispatch(actions.selectBoss(boss));\n  const unselectWeapon = () => dispatch(actions.unselectWeapon());\n\n  useHotkeys('esc', unselectWeapon);\n\n  return (\n    <PageContainer>\n      <div style={{ alignSelf: 'center' }}>\n        <h1 style={{ marginBottom: 16 }}>Choose Your Boss</h1>\n        <List>\n          {BOSSES.map((boss) => (\n            <li key={boss.name} style={{ marginBottom: 16 }}>\n              <span>{boss.name}</span>&nbsp;\n              <Button onClick={() => selectBoss(boss)}>Select</Button>\n            </li>\n          ))}\n        </List>\n      </div>\n    </PageContainer>\n  );\n}\n","// @flow\nimport React from 'react';\n\nexport default function FlexSpacer() {\n  return <div style={{ flexGrow: 1 }} />;\n}\n","// @flow\nimport type { Fighter } from '../types/Fighter';\nimport type { FightStage } from '../types/Stage';\nimport React from 'react';\nimport PageContainer from './PageContainer';\nimport FlexSpacer from './FlexSpacer';\nimport styles from './FightPage.css';\nimport { Button, List, Progress } from 'nes-react';\nimport * as actions from '../redux/actions';\nimport { useDispatch } from '../redux/store';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { BAD_VIBES_MAX, OK_VIBES_MAX, GOOD_VIBES_MAX } from '../config/vibes';\n\nexport default function FightPage({ player, boss }: FightStage) {\n  const dispatch = useDispatch();\n  const hurtPlayerVibes = () => dispatch(actions.hurtPlayerVibes());\n  const boostPlayerVibes = () => dispatch(actions.boostPlayerVibes());\n  const hurtBossVibes = () => dispatch(actions.hurtBossVibes());\n  const boostBossVibes = () => dispatch(actions.boostBossVibes());\n  const resetGame = () => dispatch(actions.resetGame());\n\n  useHotkeys('q', hurtPlayerVibes);\n  useHotkeys('w', boostPlayerVibes);\n  useHotkeys('[', hurtBossVibes);\n  useHotkeys(']', boostBossVibes);\n  useHotkeys('esc', resetGame);\n\n  return (\n    <PageContainer>\n      <FighterSection\n        fighter={player}\n        boostFn={boostPlayerVibes}\n        hurtFn={hurtPlayerVibes}\n      />\n      <FighterSection fighter={boss} boostFn={boostBossVibes} hurtFn={hurtBossVibes} />\n    </PageContainer>\n  );\n}\n\ntype FighterSectionProps = {\n  fighter: Fighter,\n  hurtFn: () => mixed,\n  boostFn: () => mixed,\n};\n\nfunction FighterSection({ fighter, hurtFn, boostFn }: FighterSectionProps) {\n  return (\n    <div className={styles.fighterSection}>\n      <h2>👤 {fighter.name}</h2>\n      <br />\n      <VibeOMeter vibes={fighter.vibes} max={GOOD_VIBES_MAX} />\n      <br />\n      <br />\n      <br />\n      <h3 style={{ marginBottom: 16 }}>🗡️ {fighter.weapon.name}</h3>\n      <List>\n        {fighter.weapon.attacks.map(({ header, description }) => (\n          <li key={header} style={{ marginBottom: 16 }}>\n            <strong>{header}:&nbsp;</strong>\n            <span>{description}</span>\n          </li>\n        ))}\n      </List>\n\n      <FlexSpacer />\n\n      <div className={styles.buttons}>\n        <Button onClick={() => hurtFn()}>Hurt vibes</Button>\n        <Button onClick={() => boostFn()}>Boost vibes</Button>\n      </div>\n    </div>\n  );\n}\n\ntype VibeOMeterProps = {\n  vibes: number,\n  max: number,\n};\n\nfunction VibeOMeter({ vibes, max }: VibeOMeterProps) {\n  const vibeLevel = (() => {\n    if (vibes <= 0) return 'vibes killed';\n    if (vibes <= BAD_VIBES_MAX) return 'regretting this experience';\n    if (vibes <= OK_VIBES_MAX) return 'having second thoughts';\n    if (vibes < GOOD_VIBES_MAX) return \"vibin'\";\n    return 'out of this world';\n  })();\n\n  const colorProps = (() => {\n    if (vibes <= BAD_VIBES_MAX) return { error: true };\n    if (vibes <= OK_VIBES_MAX) return { warning: true };\n    if (vibes < GOOD_VIBES_MAX) return { success: true };\n    return { primary: true };\n    // TODO: more fun when in SuperVibes\n  })();\n  return (\n    <div>\n      <div>\n        <strong>Vibe Level:</strong> {vibeLevel}\n      </div>\n      <br />\n      <Progress value={vibes} max={max} {...colorProps} />\n    </div>\n  );\n}\n","// @flow\nimport React from 'react';\n\nexport default function ErrorPage() {\n  return <div>Error</div>;\n}\n","// @flow\nimport React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport { useSelector } from '../redux/store';\nimport InitialPage from './InitialPage';\nimport ChooseNamePage from './ChooseNamePage';\nimport ChooseWeaponPage from './ChooseWeaponPage';\nimport ChooseBossPage from './ChooseBossPage';\nimport FightPage from './FightPage';\nimport ErrorPage from './ErrorPage';\n\nfunction App() {\n  const state = useSelector((state) => state);\n\n  switch (state.stage) {\n    case 'initial':\n      return <InitialPage {...state} />;\n    case 'choose_name':\n      return <ChooseNamePage {...state} />;\n    case 'choose_weapon':\n      return <ChooseWeaponPage {...state} />;\n    case 'choose_boss':\n      return <ChooseBossPage {...state} />;\n    case 'fight':\n      return <FightPage {...state} />;\n    default: {\n      (state.stage: empty);\n      return <ErrorPage />;\n    }\n  }\n}\n\nexport default hot(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport { createStore } from './redux/store';\n\nimport './index.css';\n\nconst store = createStore();\nwindow.store = store;\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('app'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"root___2n_im\",\"vertical\":\"vertical___3O9b5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fighterSection\":\"fighterSection___1cKVC\",\"buttons\":\"buttons___2q_fd\"};","module.exports = __webpack_public_path__ + \"sounds/4503ffbf5846e7c923f5784d80eefdbf.mp3\";","module.exports = __webpack_public_path__ + \"sounds/2b307a34a496018e8b15e0019b51f560.mp3\";","module.exports = __webpack_public_path__ + \"sounds/042b6984c0046a12376d4643010badc2.mp3\";","module.exports = __webpack_public_path__ + \"sounds/4c85cd22e801b840bb86474d3f2c2a36.mp3\";","module.exports = __webpack_public_path__ + \"sounds/129cfad7ea9a8a92cb681eff01ca1588.mp3\";","module.exports = __webpack_public_path__ + \"sounds/6698fca4aa3ac0aed95a2a79438080cf.mp3\";","module.exports = __webpack_public_path__ + \"sounds/7f7c8d896f74e55de85d2db0234460fd.mp3\";"],"sourceRoot":""}